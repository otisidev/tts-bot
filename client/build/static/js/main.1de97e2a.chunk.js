(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,n){e.exports=n(396)},383:function(e,t,n){},396:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(52),r=n.n(o),c=(n(232),n(121)),l=n(63),s=n.n(l),u=n(122),d=n(34),m=n(35),h=n(37),p=n(36),g=n(38),b=n(409),v=n(195),f=n(407),E=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1},n.showAbout=function(){return n.setState({open:!0})},n.closeAbout=function(){return n.setState({open:!1})},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a.Group,{floated:"right"},i.a.createElement(b.a,{onClick:this.showAbout,icon:!0,color:"purple",labelPosition:"left"},"About",i.a.createElement(v.a,{name:"dot circle outline"})),i.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/otisidev/tts-bot",className:"ui icon right labeled button",role:"button"},"Github Repo",i.a.createElement("i",{"aria-hidden":"true",className:"github icon"}))),i.a.createElement(f.a,{dimmer:"blurring",size:"tiny",open:this.state.open,onClose:this.closeAbout},i.a.createElement(f.a.Header,null,"About TTS Bot"),i.a.createElement(f.a.Content,null,i.a.createElement("p",null,"Developed by Anyacho Chiamaka using IBM Watson Text to speech services"),i.a.createElement("p",null,i.a.createElement("b",null,"Language"),": JavaScript"),i.a.createElement("p",null,i.a.createElement("b",null,"Service"),": IBM Watson Text2Speech API"),i.a.createElement("p",null,i.a.createElement("b",null,"Backend"),": NodeJs"),i.a.createElement("p",null,i.a.createElement("b",null,"Repository"),": Github")),i.a.createElement(f.a.Actions,null,i.a.createElement(b.a,{onClick:this.closeAbout,icon:!0,labelPosition:"left",negative:!0,color:"grey"},"Close",i.a.createElement(v.a,{name:"close"})))))}}]),t}(a.Component),y=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(E,null),i.a.createElement("img",{className:"ui  tiny image",alt:"logo",src:"favicon.png"}),i.a.createElement("h2",{className:"ui purple header"},i.a.createElement("div",{className:"content"},"Text To Speech Bot",i.a.createElement("div",{className:"sub header"},"The Text to Speech service understands text and natural language to generate synthesized audio output complete with appropriate cadence and intonation. It is available in 13 voices across 7 languages. Select voices now offer Expressive Synthesis and Voice Transformation features."))))}}]),t}(a.Component),O=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"ui very padded segment"},i.a.createElement("div",{className:"ui center aligned container"},i.a.createElement("p",null,"Developed by Anyacho Chiamaka using IBM Watson Text to speech services | Git repo",i.a.createElement("a",{className:"ui purple",rel:"noopener noreferrer",target:"_blank",href:"https://github.com/otisidev/tts-bot"},"\xa0 here"))))}}]),t}(a.Component),j=(n(383),n(385),n(208)),S=n.n(j),w=n(406),C=n(408),x=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).setLoading=function(e){return n.setState({loading:e})},n.getVoices=Object(u.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/service/voices");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(JSON.stringify(n,null,6)),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),n.resetApp=function(){n.setState({selectedVoice:""}),n.setState({inputModel:""}),n.setState({audio:""})},n.handleListen=function(){n.isFormValid()?(n.setConverting(!0),n.convertText().then(function(e){n.setConverting(!1);var t=document.getElementById("output");t.src=URL.createObjectURL(e),t.load(),t.play()}).catch(function(){n.setConverting(!1)})):alert("Form is invalid!")},n.convertText=Object(u.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/service/convert",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({input:n.state.inputModel,voice:n.state.selectedVoice})});case 2:return t=e.sent,e.next=5,t.blob();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)})),n.handleUserInput=function(e){var t=e.target,a=t.value,i=t.name;n.setState(Object(c.a)({},i,a))},n.handleItemSelection=function(e,t){var a=t.name,i=t.value;n.setState(Object(c.a)({},a,i))},n.isFormValid=function(){return null!==n.state.inputModel||null!==n.state.selectedVoice},n.setConverting=function(e){return n.setState({converting:e})},n.handleFormSubmittion=function(){n.isFormValid()&&(n.setConverting(!0),n.convertText().then(function(e){n.setConverting(!1),S.a.saveAs(e,"audio.mp3")}).catch(function(e){n.setConverting(!1),console.log(e)}))},n.state={voices:[],loading:!1,converting:!1,selectedVoice:"",inputModel:"",audio:"",option:{position:"top-right",autoClose:!0,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1}},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setLoading(!0),this.getVoices().then(function(t){e.setState({voices:t}),e.setLoading(!1)}).catch(function(t){e.setLoading(!1)})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ui raised very padded text container segment"},i.a.createElement(y,null),i.a.createElement("hr",null),i.a.createElement("h3",{className:"ui purple header"},"Input Text"),i.a.createElement("p",{className:"margin"},"The text language must match the selected voice language: Mixing language (English text with a Spanish male voice) does not produce valid results. The synthesized audio is streamed to the client as it is being produced, using the HTTP chunked encoding. The audio is returned in mp3 format which can be played using VLC and Audacity players."),i.a.createElement(w.a,{error:!0,className:"m-t",onSubmit:this.handleFormSubmittion},i.a.createElement(w.a.Field,null,i.a.createElement("label",null,"Voice Language"),i.a.createElement(C.a,{loading:this.state.loading,className:"ui purple fluid",placeholder:"Select Voice-language",search:!0,name:"selectedVoice",selection:!0,value:this.state.selectedVoice,onChange:this.handleItemSelection,options:this.state.voices})),i.a.createElement(w.a.TextArea,{rows:"10",name:"inputModel",value:this.state.inputModel,label:"Input Text",onChange:function(t){return e.handleUserInput(t)},placeholder:"enter the text to be converted .."}),i.a.createElement(b.a,{loading:this.state.converting,disabled:this.state.loading||!this.isFormValid,icon:!0,labelPosition:"right",color:"purple",type:"submit"},"Download",i.a.createElement(v.a,{name:"cloud download"})),i.a.createElement(b.a,{icon:!0,loading:this.state.converting,onClick:this.handleListen,disabled:this.state.loading||this.state.converting||!this.isFormValid,basic:!0,labelPosition:"right",color:"purple",type:"button"},"Listen",i.a.createElement(v.a,{name:"assistive listening systems"})),i.a.createElement(b.a,{icon:!0,labelPosition:"right",disabled:this.state.loading||this.state.converting,basic:!0,color:"purple",floated:"right",onClick:this.resetApp},"Reset",i.a.createElement(v.a,{name:"undo"}))),i.a.createElement("audio",{id:"output"})),i.a.createElement(O,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[227,2,1]]]);
//# sourceMappingURL=main.1de97e2a.chunk.js.map